{
  "project": "chalk",
  "repo": "https://github.com/chalk/chalk.git",
  "type": "utility library",
  "stars": "22.3k",
  "stableVersion": "v5.4.1",
  "description": "Terminal string styling library",
  "category": "small",
  "emblematicFiles": {
    "coreFiles": [
      "source/index.js",
      "index.js"
    ],
    "architecturalFiles": [
      "source/templates.js"
    ],
    "performanceCriticalFiles": [
      "source/utilities.js"
    ],
    "complexAlgorithmFiles": [
      "source/vendor/ansi-styles/index.js"
    ]
  },
  "analysis": {
    "details": [
      {
        "file": "benchmark.js",
        "metrics": {
          "complexity": 1,
          "loc": 41,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "examples/rainbow.js",
        "metrics": {
          "complexity": 7,
          "loc": 31,
          "functionCount": 2,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [
          {
            "name": "rainbow",
            "line": 8,
            "endLine": 27,
            "complexity": 5,
            "loc": 20,
            "parameterCount": 2,
            "issues": [
              {
                "type": "deep-nesting",
                "severity": "medium",
                "location": {
                  "file": "examples/rainbow.js",
                  "line": 8,
                  "function": "rainbow"
                },
                "description": "Deep nesting detected, consider extracting sub-functions or using early returns"
              }
            ]
          },
          {
            "name": "animateString",
            "line": 29,
            "endLine": 34,
            "complexity": 2,
            "loc": 6,
            "parameterCount": 1,
            "issues": [
              {
                "type": "async-heavy",
                "severity": "low",
                "location": {
                  "file": "examples/rainbow.js",
                  "line": 29,
                  "function": "animateString"
                },
                "description": "Function uses async/await pattern"
              }
            ]
          }
        ],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "examples/screenshot.js",
        "metrics": {
          "complexity": 1,
          "loc": 21,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/index.d.ts",
        "metrics": {
          "complexity": 1,
          "loc": 89,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/index.js",
        "metrics": {
          "complexity": 30,
          "loc": 169,
          "functionCount": 10,
          "duplicationRatio": 0
        },
        "issues": [
          {
            "type": "complexity",
            "severity": "critical",
            "location": {
              "file": "source/index.js",
              "line": 1
            },
            "description": "File complexity 30 exceeds critical threshold",
            "threshold": 50,
            "excessRatio": 0.6
          }
        ],
        "functions": [
          {
            "name": "<anonymous>",
            "line": 35,
            "endLine": 38,
            "complexity": 1,
            "loc": 4,
            "parameterCount": 1,
            "issues": [
              {
                "type": "well-named",
                "severity": "low",
                "location": {
                  "file": "source/index.js",
                  "line": 35,
                  "function": "<anonymous>"
                },
                "description": "Function name \"<anonymous>\" should start with a verb in camelCase"
              }
            ]
          },
          {
            "name": "applyOptions",
            "line": 24,
            "endLine": 32,
            "complexity": 8,
            "loc": 9,
            "parameterCount": 2,
            "issues": [
              {
                "type": "single-responsibility",
                "severity": "medium",
                "location": {
                  "file": "source/index.js",
                  "line": 24,
                  "function": "applyOptions"
                },
                "description": "Function has 2 distinct responsibilities, violates Single Responsibility Principle"
              }
            ]
          },
          {
            "name": "getModelAnsi",
            "line": 74,
            "endLine": 92,
            "complexity": 5,
            "loc": 19,
            "parameterCount": 4,
            "issues": [
              {
                "type": "deep-nesting",
                "severity": "medium",
                "location": {
                  "file": "source/index.js",
                  "line": 74,
                  "function": "getModelAnsi"
                },
                "description": "Deep nesting detected, consider extracting sub-functions or using early returns"
              }
            ]
          },
          {
            "name": "applyStyle",
            "line": 168,
            "endLine": 200,
            "complexity": 8,
            "loc": 33,
            "parameterCount": 2,
            "issues": [
              {
                "type": "deep-nesting",
                "severity": "medium",
                "location": {
                  "file": "source/index.js",
                  "line": 168,
                  "function": "applyStyle"
                },
                "description": "Deep nesting detected, consider extracting sub-functions or using early returns"
              }
            ]
          }
        ],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 46
      },
      {
        "file": "source/index.test-d.ts",
        "metrics": {
          "complexity": 1,
          "loc": 148,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/utilities.js",
        "metrics": {
          "complexity": 7,
          "loc": 28,
          "functionCount": 2,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [
          {
            "name": "stringEncaseCRLFWithFirstIndex",
            "line": 21,
            "endLine": 33,
            "complexity": 4,
            "loc": 13,
            "parameterCount": 4,
            "issues": []
          }
        ],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "test/_fixture.js",
        "metrics": {
          "complexity": 1,
          "loc": 2,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "test/chalk.js",
        "metrics": {
          "complexity": 1,
          "loc": 100,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "test/instance.js",
        "metrics": {
          "complexity": 1,
          "loc": 18,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "test/level.js",
        "metrics": {
          "complexity": 1,
          "loc": 38,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "test/no-color-support.js",
        "metrics": {
          "complexity": 1,
          "loc": 6,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "test/visible.js",
        "metrics": {
          "complexity": 1,
          "loc": 33,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/vendor/ansi-styles/index.d.ts",
        "metrics": {
          "complexity": 1,
          "loc": 84,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/vendor/ansi-styles/index.js",
        "metrics": {
          "complexity": 6,
          "loc": 178,
          "functionCount": 4,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [
          {
            "name": "assembleStyles",
            "line": 73,
            "endLine": 219,
            "complexity": 3,
            "loc": 147,
            "parameterCount": 0,
            "issues": [
              {
                "type": "long-function",
                "severity": "high",
                "location": {
                  "file": "source/vendor/ansi-styles/index.js",
                  "line": 73,
                  "function": "assembleStyles"
                },
                "description": "Function has 147 lines, consider breaking into smaller functions",
                "threshold": 100,
                "excessRatio": 1.47
              },
              {
                "type": "deep-nesting",
                "severity": "medium",
                "location": {
                  "file": "source/vendor/ansi-styles/index.js",
                  "line": 73,
                  "function": "assembleStyles"
                },
                "description": "Deep nesting detected, consider extracting sub-functions or using early returns"
              },
              {
                "type": "single-responsibility",
                "severity": "medium",
                "location": {
                  "file": "source/vendor/ansi-styles/index.js",
                  "line": 73,
                  "function": "assembleStyles"
                },
                "description": "Function has 2 distinct responsibilities, violates Single Responsibility Principle"
              }
            ],
            "snippet": "function assembleStyles() {\n\tconst codes = new Map();\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`,\n\t\t\t};\n  // ... more code ..."
          }
        ],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/vendor/supports-color/browser.d.ts",
        "metrics": {
          "complexity": 1,
          "loc": 1,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/vendor/supports-color/browser.js",
        "metrics": {
          "complexity": 1,
          "loc": 26,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/vendor/supports-color/index.d.ts",
        "metrics": {
          "complexity": 1,
          "loc": 18,
          "functionCount": 0,
          "duplicationRatio": 0
        },
        "issues": [],
        "functions": [],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 100
      },
      {
        "file": "source/vendor/supports-color/index.js",
        "metrics": {
          "complexity": 51,
          "loc": 139,
          "functionCount": 5,
          "duplicationRatio": 0
        },
        "issues": [
          {
            "type": "complexity",
            "severity": "critical",
            "location": {
              "file": "source/vendor/supports-color/index.js",
              "line": 1
            },
            "description": "File complexity 51 exceeds critical threshold",
            "threshold": null,
            "excessRatio": 0
          }
        ],
        "functions": [
          {
            "name": "hasFlag",
            "line": 7,
            "endLine": 12,
            "complexity": 6,
            "loc": 6,
            "parameterCount": 2,
            "issues": []
          },
          {
            "name": "envForceColor",
            "line": 33,
            "endLine": 45,
            "complexity": 5,
            "loc": 13,
            "parameterCount": 0,
            "issues": [
              {
                "type": "deep-nesting",
                "severity": "medium",
                "location": {
                  "file": "source/vendor/supports-color/index.js",
                  "line": 33,
                  "function": "envForceColor"
                },
                "description": "Deep nesting detected, consider extracting sub-functions or using early returns"
              }
            ]
          },
          {
            "name": "_supportsColor",
            "line": 60,
            "endLine": 166,
            "complexity": 36,
            "loc": 107,
            "parameterCount": 2,
            "issues": [
              {
                "type": "high-complexity",
                "severity": "high",
                "location": {
                  "file": "source/vendor/supports-color/index.js",
                  "line": 60,
                  "function": "_supportsColor"
                },
                "description": "Complexity 36 exceeds recommended threshold of 20",
                "threshold": 20,
                "excessRatio": 1.8
              },
              {
                "type": "long-function",
                "severity": "high",
                "location": {
                  "file": "source/vendor/supports-color/index.js",
                  "line": 60,
                  "function": "_supportsColor"
                },
                "description": "Function has 107 lines, consider breaking into smaller functions",
                "threshold": 100,
                "excessRatio": 1.07
              },
              {
                "type": "deep-nesting",
                "severity": "medium",
                "location": {
                  "file": "source/vendor/supports-color/index.js",
                  "line": 60,
                  "function": "_supportsColor"
                },
                "description": "Deep nesting detected, consider extracting sub-functions or using early returns"
              },
              {
                "type": "well-named",
                "severity": "low",
                "location": {
                  "file": "source/vendor/supports-color/index.js",
                  "line": 60,
                  "function": "_supportsColor"
                },
                "description": "Function name \"_supportsColor\" should start with a verb in camelCase"
              }
            ],
            "snippet": "function _supportsColor(haveStream, {streamIsTTY, sniffFlags = true} = {}) {\n\tconst noFlagForceColor = envForceColor();\n\tif (noFlagForceColor !== undefined) {\n\t\tflagForceColor = noFlagForceColor;\n\t}\n\tconst forceColor = sniffFlags ? flagForceColor : noFlagForceColor;\n\tif (forceColor === 0) {\n\t\treturn 0;\n  // ... more code ..."
          }
        ],
        "dependencies": {
          "incomingDependencies": 0,
          "outgoingDependencies": 0,
          "instability": 0,
          "cohesionScore": 0,
          "percentileUsageRank": 0,
          "isInCycle": false
        },
        "healthScore": 10
      }
    ],
    "overview": {
      "grade": "B",
      "statistics": {
        "totalFiles": 19,
        "totalLOC": 1170,
        "avgComplexity": 6.05,
        "avgLOC": 62,
        "avgDuplicationRatio": 0
      },
      "scores": {
        "complexity": 64,
        "duplication": 100,
        "maintainability": 100,
        "overall": 84
      },
      "summary": "2 critical files found requiring attention"
    },
    "context": {
      "project": {
        "name": "chalk",
        "path": "/Users/fstepho/dev/insightcode-cli/temp-analysis/chalk",
        "version": "5.4.1",
        "repository": "chalk/chalk"
      },
      "analysis": {
        "timestamp": "2025-07-21T14:25:33.526Z",
        "durationMs": 258730,
        "toolVersion": "0.7.0",
        "filesAnalyzed": 19,
        "duplicationMode": "legacy"
      }
    }
  },
  "durationMs": 258785
}