{
  "project": "chalk",
  "repo": "https://github.com/chalk/chalk.git",
  "type": "utility library",
  "stars": "22.3k",
  "stableVersion": "v5.4.1",
  "description": "Terminal string styling library",
  "category": "small",
  "emblematicFiles": {
    "coreFiles": [
      "source/index.js",
      "index.js"
    ],
    "architecturalFiles": [
      "source/templates.js"
    ],
    "performanceCriticalFiles": [
      "source/utilities.js"
    ],
    "complexAlgorithmFiles": [
      "source/vendor/ansi-styles/index.js"
    ]
  },
  "analysis": {
    "files": [
      {
        "path": "benchmark.js",
        "complexity": 1,
        "duplication": 5,
        "functionCount": 12,
        "loc": 41,
        "issues": [],
        "fileType": "utility",
        "impact": 0,
        "criticismScore": 2
      },
      {
        "path": "examples/rainbow.js",
        "complexity": 6,
        "duplication": 0,
        "functionCount": 2,
        "loc": 31,
        "issues": [],
        "fileType": "example",
        "impact": 0,
        "criticismScore": 7
      },
      {
        "path": "examples/screenshot.js",
        "complexity": 10,
        "duplication": 0,
        "functionCount": 0,
        "loc": 21,
        "issues": [],
        "fileType": "example",
        "impact": 0,
        "criticismScore": 11
      },
      {
        "path": "source/index.js",
        "complexity": 23,
        "duplication": 1,
        "functionCount": 19,
        "loc": 169,
        "issues": [
          {
            "type": "complexity",
            "severity": "high",
            "message": "High complexity: 23 (recommended: < 20)",
            "value": 23,
            "ratio": 1.15
          }
        ],
        "fileType": "production",
        "impact": 9,
        "criticismScore": 42.5
      },
      {
        "path": "source/index.test-d.ts",
        "complexity": 3,
        "duplication": 2,
        "functionCount": 0,
        "loc": 148,
        "issues": [],
        "fileType": "production",
        "impact": 0,
        "criticismScore": 4
      },
      {
        "path": "source/utilities.js",
        "complexity": 6,
        "duplication": 0,
        "functionCount": 2,
        "loc": 28,
        "issues": [],
        "fileType": "production",
        "impact": 1,
        "criticismScore": 9
      },
      {
        "path": "test/_fixture.js",
        "complexity": 1,
        "duplication": 0,
        "functionCount": 0,
        "loc": 2,
        "issues": [],
        "fileType": "test",
        "impact": 0,
        "criticismScore": 2
      },
      {
        "path": "test/chalk.js",
        "complexity": 3,
        "duplication": 4,
        "functionCount": 22,
        "loc": 100,
        "issues": [],
        "fileType": "test",
        "impact": 0,
        "criticismScore": 4
      },
      {
        "path": "test/instance.js",
        "complexity": 1,
        "duplication": 6,
        "functionCount": 4,
        "loc": 18,
        "issues": [],
        "fileType": "test",
        "impact": 0,
        "criticismScore": 2
      },
      {
        "path": "test/level.js",
        "complexity": 1,
        "duplication": 13,
        "functionCount": 4,
        "loc": 38,
        "issues": [],
        "fileType": "test",
        "impact": 0,
        "criticismScore": 2
      },
      {
        "path": "test/no-color-support.js",
        "complexity": 1,
        "duplication": 0,
        "functionCount": 1,
        "loc": 6,
        "issues": [],
        "fileType": "test",
        "impact": 0,
        "criticismScore": 2
      },
      {
        "path": "test/visible.js",
        "complexity": 1,
        "duplication": 20,
        "functionCount": 3,
        "loc": 33,
        "issues": [],
        "fileType": "test",
        "impact": 0,
        "criticismScore": 2
      },
      {
        "path": "source/vendor/ansi-styles/index.js",
        "complexity": 14,
        "duplication": 6,
        "functionCount": 14,
        "loc": 178,
        "issues": [
          {
            "type": "complexity",
            "severity": "medium",
            "message": "Medium complexity: 14 (recommended: < 10)",
            "value": 14,
            "ratio": 0.7
          }
        ],
        "fileType": "production",
        "impact": 1,
        "criticismScore": 17.5
      },
      {
        "path": "source/vendor/supports-color/browser.js",
        "complexity": 7,
        "duplication": 4,
        "functionCount": 2,
        "loc": 26,
        "issues": [],
        "fileType": "production",
        "impact": 0,
        "criticismScore": 8
      },
      {
        "path": "source/vendor/supports-color/index.js",
        "complexity": 55,
        "duplication": 4,
        "functionCount": 7,
        "loc": 139,
        "issues": [
          {
            "type": "complexity",
            "severity": "high",
            "message": "High complexity: 55 (recommended: < 20)",
            "value": 55,
            "ratio": 2.75
          }
        ],
        "fileType": "production",
        "impact": 0,
        "criticismScore": 56.5
      }
    ],
    "topFiles": [
      {
        "path": "source/vendor/supports-color/index.js",
        "complexity": 55,
        "duplication": 4,
        "functionCount": 7,
        "loc": 139,
        "issues": [
          {
            "type": "complexity",
            "severity": "high",
            "message": "High complexity: 55 (recommended: < 20)",
            "value": 55,
            "ratio": 2.75
          }
        ],
        "fileType": "production",
        "impact": 0,
        "criticismScore": 56.5
      },
      {
        "path": "source/index.js",
        "complexity": 23,
        "duplication": 1,
        "functionCount": 19,
        "loc": 169,
        "issues": [
          {
            "type": "complexity",
            "severity": "high",
            "message": "High complexity: 23 (recommended: < 20)",
            "value": 23,
            "ratio": 1.15
          }
        ],
        "fileType": "production",
        "impact": 9,
        "criticismScore": 42.5
      },
      {
        "path": "source/vendor/ansi-styles/index.js",
        "complexity": 14,
        "duplication": 6,
        "functionCount": 14,
        "loc": 178,
        "issues": [
          {
            "type": "complexity",
            "severity": "medium",
            "message": "Medium complexity: 14 (recommended: < 10)",
            "value": 14,
            "ratio": 0.7
          }
        ],
        "fileType": "production",
        "impact": 1,
        "criticismScore": 17.5
      },
      {
        "path": "examples/screenshot.js",
        "complexity": 10,
        "duplication": 0,
        "functionCount": 0,
        "loc": 21,
        "issues": [],
        "fileType": "example",
        "impact": 0,
        "criticismScore": 11
      },
      {
        "path": "source/utilities.js",
        "complexity": 6,
        "duplication": 0,
        "functionCount": 2,
        "loc": 28,
        "issues": [],
        "fileType": "production",
        "impact": 1,
        "criticismScore": 9
      }
    ],
    "silentKillers": [],
    "project": {
      "name": "chalk",
      "path": "temp-analysis/chalk",
      "packageJson": {
        "name": "chalk",
        "version": "5.4.1",
        "description": "Terminal string styling done right"
      }
    },
    "summary": {
      "totalFiles": 15,
      "totalLines": 978,
      "avgComplexity": 8.9,
      "avgDuplication": 4.3,
      "avgFunctions": 6.1,
      "avgLoc": 65
    },
    "scores": {
      "complexity": 57,
      "duplication": 91,
      "maintainability": 95,
      "overall": 79
    },
    "complexityStdDev": 13.7,
    "score": 79,
    "grade": "C",
    "codeContext": {
      "contexts": [
        {
          "path": "temp-analysis/chalk/source/vendor/supports-color/index.js",
          "complexity": 55,
          "structure": {
            "imports": [
              "node:process",
              "node:os",
              "node:tty"
            ],
            "exports": [
              "<unnamed>"
            ],
            "classes": [],
            "functions": [
              "hasFlag",
              "envForceColor",
              "translateLevel",
              "_supportsColor",
              "<anonymous>",
              "<anonymous>",
              "createSupportsColor"
            ],
            "interfaces": [],
            "types": [],
            "enums": [],
            "constants": []
          },
          "patterns": {
            "hasAsyncFunctions": false,
            "hasGenerators": false,
            "hasDecorators": false,
            "hasJSX": false,
            "usesTypeScript": false,
            "hasErrorHandling": false,
            "hasTests": true
          },
          "complexityBreakdown": {
            "functions": [
              {
                "name": "_supportsColor",
                "complexity": 36,
                "lineCount": 107,
                "parameters": 2,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "hasFlag",
                "complexity": 6,
                "lineCount": 6,
                "parameters": 2,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "envForceColor",
                "complexity": 5,
                "lineCount": 13,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "translateLevel",
                "complexity": 2,
                "lineCount": 12,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "createSupportsColor",
                "complexity": 2,
                "lineCount": 8,
                "parameters": 2,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              }
            ],
            "highestComplexityFunction": "_supportsColor",
            "deepestNesting": 5
          },
          "dependencies": {
            "internal": [],
            "external": [
              "node:process",
              "node:os",
              "node:tty"
            ],
            "mostImportedFrom": []
          },
          "samples": {
            "complexFunctions": [
              {
                "name": "_supportsColor",
                "complexity": 36,
                "snippet": "function _supportsColor(haveStream, {streamIsTTY, sniffFlags = true} = {}) {\n\tconst noFlagForceColor = envForceColor();\n\tif (noFlagForceColor !== undefined) {\n\t\tflagForceColor = noFlagForceColor;\n\t}\n\n\tconst forceColor = sniffFlags ? flagForceColor : noFlagForceColor;\n\n\tif (forceColor === 0) {\n\t\treturn 0;\n    // ... more code ..."
              }
            ]
          }
        },
        {
          "path": "temp-analysis/chalk/source/index.js",
          "complexity": 23,
          "structure": {
            "imports": [
              "#ansi-styles",
              "#supports-color",
              "./utilities.js"
            ],
            "exports": [
              "<unnamed>",
              "<unnamed>",
              "<unnamed>"
            ],
            "classes": [
              "Chalk"
            ],
            "functions": [
              "applyOptions",
              "chalkFactory",
              "chalk",
              "createChalk",
              "get",
              "get",
              "getModelAnsi",
              "get",
              "<anonymous>",
              "get",
              "<anonymous>",
              "<anonymous>",
              "get",
              "set",
              "createStyler",
              "createBuilder",
              "builder",
              "applyStyle"
            ],
            "interfaces": [],
            "types": [],
            "enums": [],
            "constants": [
              "GENERATOR",
              "STYLER",
              "IS_EMPTY"
            ]
          },
          "patterns": {
            "hasAsyncFunctions": false,
            "hasGenerators": false,
            "hasDecorators": false,
            "hasJSX": false,
            "usesTypeScript": false,
            "hasErrorHandling": false,
            "hasTests": false
          },
          "complexityBreakdown": {
            "functions": [
              {
                "name": "applyStyle",
                "complexity": 8,
                "lineCount": 33,
                "parameters": 2,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "applyOptions",
                "complexity": 7,
                "lineCount": 9,
                "parameters": 2,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "getModelAnsi",
                "complexity": 5,
                "lineCount": 19,
                "parameters": 4,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "createStyler",
                "complexity": 2,
                "lineCount": 19,
                "parameters": 3,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "createBuilder",
                "complexity": 2,
                "lineCount": 15,
                "parameters": 3,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "builder",
                "complexity": 2,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "chalkFactory",
                "complexity": 1,
                "lineCount": 8,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "chalk",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "createChalk",
                "complexity": 1,
                "lineCount": 3,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "get",
                "complexity": 1,
                "lineCount": 5,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "get",
                "complexity": 1,
                "lineCount": 5,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "get",
                "complexity": 1,
                "lineCount": 7,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 4,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "get",
                "complexity": 1,
                "lineCount": 7,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 4,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "get",
                "complexity": 1,
                "lineCount": 3,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "set",
                "complexity": 1,
                "lineCount": 3,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              }
            ],
            "highestComplexityFunction": "applyStyle",
            "deepestNesting": 5
          },
          "dependencies": {
            "internal": [
              "./utilities.js"
            ],
            "external": [
              "#ansi-styles",
              "#supports-color"
            ],
            "mostImportedFrom": [
              "utilities"
            ]
          },
          "samples": {
            "complexFunctions": []
          }
        },
        {
          "path": "temp-analysis/chalk/source/vendor/ansi-styles/index.js",
          "complexity": 14,
          "structure": {
            "imports": [],
            "exports": [
              "<unnamed>"
            ],
            "classes": [],
            "functions": [
              "wrapAnsi16",
              "<anonymous>",
              "wrapAnsi256",
              "<anonymous>",
              "wrapAnsi16m",
              "<anonymous>",
              "assembleStyles",
              "value",
              "value",
              "<anonymous>",
              "value",
              "value",
              "value",
              "value"
            ],
            "interfaces": [],
            "types": [],
            "enums": [],
            "constants": [
              "ANSI_BACKGROUND_OFFSET"
            ]
          },
          "patterns": {
            "hasAsyncFunctions": false,
            "hasGenerators": false,
            "hasDecorators": false,
            "hasJSX": false,
            "usesTypeScript": false,
            "hasErrorHandling": false,
            "hasTests": false
          },
          "complexityBreakdown": {
            "functions": [
              {
                "name": "assembleStyles",
                "complexity": 14,
                "lineCount": 147,
                "parameters": 0,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "value",
                "complexity": 6,
                "lineCount": 42,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "value",
                "complexity": 5,
                "lineCount": 20,
                "parameters": 3,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "value",
                "complexity": 3,
                "lineCount": 22,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "wrapAnsi16",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "wrapAnsi256",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "wrapAnsi16m",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 3,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "<anonymous>",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "value",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "value",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 3,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "value",
                "complexity": 1,
                "lineCount": 1,
                "parameters": 1,
                "isAsync": false,
                "hasErrorHandling": false
              }
            ],
            "highestComplexityFunction": "assembleStyles",
            "deepestNesting": 6
          },
          "dependencies": {
            "internal": [],
            "external": [],
            "mostImportedFrom": []
          },
          "samples": {
            "complexFunctions": [
              {
                "name": "assembleStyles",
                "complexity": 14,
                "snippet": "function assembleStyles() {\n\tconst codes = new Map();\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`,\n\t\t\t};\n\n    // ... more code ..."
              }
            ]
          }
        },
        {
          "path": "temp-analysis/chalk/examples/screenshot.js",
          "complexity": 10,
          "structure": {
            "imports": [
              "node:process",
              "ansi-styles",
              "../source/index.js"
            ],
            "exports": [],
            "classes": [],
            "functions": [],
            "interfaces": [],
            "types": [],
            "enums": [],
            "constants": []
          },
          "patterns": {
            "hasAsyncFunctions": false,
            "hasGenerators": false,
            "hasDecorators": false,
            "hasJSX": false,
            "usesTypeScript": false,
            "hasErrorHandling": false,
            "hasTests": true
          },
          "complexityBreakdown": {
            "functions": [],
            "highestComplexityFunction": "",
            "deepestNesting": 3
          },
          "dependencies": {
            "internal": [
              "../source/index.js"
            ],
            "external": [
              "node:process",
              "ansi-styles"
            ],
            "mostImportedFrom": [
              "../source/index"
            ]
          },
          "samples": {
            "complexFunctions": []
          }
        },
        {
          "path": "temp-analysis/chalk/source/utilities.js",
          "complexity": 6,
          "structure": {
            "imports": [],
            "exports": [],
            "classes": [],
            "functions": [
              "stringReplaceAll",
              "stringEncaseCRLFWithFirstIndex"
            ],
            "interfaces": [],
            "types": [],
            "enums": [],
            "constants": []
          },
          "patterns": {
            "hasAsyncFunctions": false,
            "hasGenerators": false,
            "hasDecorators": false,
            "hasJSX": false,
            "usesTypeScript": false,
            "hasErrorHandling": false,
            "hasTests": false
          },
          "complexityBreakdown": {
            "functions": [
              {
                "name": "stringEncaseCRLFWithFirstIndex",
                "complexity": 4,
                "lineCount": 13,
                "parameters": 4,
                "isAsync": false,
                "hasErrorHandling": false
              },
              {
                "name": "stringReplaceAll",
                "complexity": 3,
                "lineCount": 18,
                "parameters": 3,
                "isAsync": false,
                "hasErrorHandling": false
              }
            ],
            "highestComplexityFunction": "stringEncaseCRLFWithFirstIndex",
            "deepestNesting": 3
          },
          "dependencies": {
            "internal": [],
            "external": [],
            "mostImportedFrom": []
          },
          "samples": {
            "complexFunctions": []
          }
        }
      ],
      "summary": {
        "totalFiles": 5,
        "patterns": {
          "asyncUsage": 0,
          "errorHandling": 0,
          "typeScriptUsage": 0,
          "jsxUsage": 0,
          "testFiles": 2,
          "decoratorUsage": 0,
          "generatorUsage": 0
        },
        "architecture": {
          "totalClasses": 1,
          "totalFunctions": 41,
          "totalInterfaces": 0,
          "totalTypes": 0,
          "totalEnums": 0,
          "avgFunctionsPerFile": 8.2,
          "avgImportsPerFile": 1.8
        },
        "complexity": {
          "filesWithHighComplexity": 2,
          "deepestNesting": 6,
          "avgComplexityPerFunction": 3.3,
          "mostComplexFunctions": [
            {
              "file": "temp-analysis/chalk/source/vendor/supports-color/index.js",
              "name": "_supportsColor",
              "complexity": 36,
              "lineCount": 107
            },
            {
              "file": "temp-analysis/chalk/source/vendor/ansi-styles/index.js",
              "name": "assembleStyles",
              "complexity": 14,
              "lineCount": 147
            },
            {
              "file": "temp-analysis/chalk/source/index.js",
              "name": "applyStyle",
              "complexity": 8,
              "lineCount": 33
            },
            {
              "file": "temp-analysis/chalk/source/index.js",
              "name": "applyOptions",
              "complexity": 7,
              "lineCount": 9
            },
            {
              "file": "temp-analysis/chalk/source/vendor/supports-color/index.js",
              "name": "hasFlag",
              "complexity": 6,
              "lineCount": 6
            },
            {
              "file": "temp-analysis/chalk/source/vendor/ansi-styles/index.js",
              "name": "value",
              "complexity": 6,
              "lineCount": 42
            },
            {
              "file": "temp-analysis/chalk/source/vendor/supports-color/index.js",
              "name": "envForceColor",
              "complexity": 5,
              "lineCount": 13
            },
            {
              "file": "temp-analysis/chalk/source/index.js",
              "name": "getModelAnsi",
              "complexity": 5,
              "lineCount": 19
            },
            {
              "file": "temp-analysis/chalk/source/vendor/ansi-styles/index.js",
              "name": "value",
              "complexity": 5,
              "lineCount": 20
            },
            {
              "file": "temp-analysis/chalk/source/utilities.js",
              "name": "stringEncaseCRLFWithFirstIndex",
              "complexity": 4,
              "lineCount": 13
            }
          ]
        },
        "dependencies": {
          "mostUsedExternal": [
            {
              "name": "node:process",
              "count": 2
            },
            {
              "name": "node:os",
              "count": 1
            },
            {
              "name": "node:tty",
              "count": 1
            },
            {
              "name": "#ansi-styles",
              "count": 1
            },
            {
              "name": "#supports-color",
              "count": 1
            },
            {
              "name": "ansi-styles",
              "count": 1
            }
          ],
          "mostImportedInternal": [
            {
              "name": "utilities",
              "count": 1
            },
            {
              "name": "../source/index",
              "count": 1
            }
          ],
          "avgExternalDepsPerFile": 1.4,
          "avgInternalDepsPerFile": 0.4
        },
        "codeQuality": {
          "avgFunctionLength": 14,
          "avgParametersPerFunction": 1.4,
          "percentAsyncFunctions": 0,
          "percentFunctionsWithErrorHandling": 0
        }
      }
    }
  },
  "duration": 691
}